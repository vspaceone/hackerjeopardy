<div [ngStyle]="getPlayerStyle()" class="player-card" [class.highlighted]="highlighted">
    <div class="player-info">
      <h3 *ngIf="!isRenaming && canRename" (click)="onRename()" class="clickable-name">{{ player.name }}</h3>
      <h3 *ngIf="!isRenaming && !canRename">{{ player.name }}</h3>
      <input *ngIf="isRenaming" type="text" [(ngModel)]="newName" (keydown.enter)="$event.stopPropagation(); saveRename()" (keyup.enter)="$event.stopPropagation()" (keydown.escape)="$event.stopPropagation(); cancelRename()" (keyup.escape)="$event.stopPropagation()" (blur)="saveRename()" class="rename-input" #nameInput />
       <p>Score: <span class="score-display" [class.updated]="scoreUpdated">{{ player.score }}</span></p>
    </div>

   <div class="player-controls">
      <button class="add-btn" (click)="onPlus()" aria-label="Add 100 points">
        +100
      </button>
      <button class="subtract-btn" (click)="onMinus()" aria-label="Subtract 100 points">
        -100
      </button>
   </div>

   <div *ngIf="isActive" class="active-indicator">
     ACTIVE
   </div>
</div>